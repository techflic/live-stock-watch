(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5408:function(e,t,n){e.exports=n(5526)},5413:function(e,t,n){},5526:function(e,t,n){"use strict";n.r(t);var o=n(0),c=n.n(o),a=n(27),r=n.n(a),i=(n(5413),n(35)),A=n(36),l=n(40),s=n(37),u=n(41),p=n(39),m={development:{BASE_URL:"ws://stocks.mnet.website"},production:{BASE_URL:"wss://stocks.mnet.website"}},d=m[Object({NODE_ENV:"production",PUBLIC_URL:"/live-stock-watch"}).REACT_APP_ENV]||m.production,g=n(18),h=n(95),E=n(96),k=n(12),f=n(55),w=n(98),b="UPDATE_STOCKS",O="ON_INITIALIZATION",v="ON_OPEN",y="ON_CLOSE",C="ON_ERROR",j={data:{}},I={socket:{},socketEvent:{},connecting:!1,connected:!1},S=Object(g.c)({stocks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:var n={};return t.payload.data.forEach(function(t){var o=Object(w.a)(t,2),c=o[0],a=o[1];n[c]?n[c].price=[].concat(Object(f.a)(n[c].price),[a]):n[c]={name:c,price:e.data[c]?[].concat(Object(f.a)(e.data[c].price),[a]):[a],updatedAt:Date.now()}}),Object(k.a)({},e,{data:Object(k.a)({},e.data,n)});default:return Object(k.a)({},e)}},socket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(k.a)({},e,{connecting:!0,connected:!1,socket:t.payload.socket});case v:return Object(k.a)({},e,{connecting:!1,connected:!0,socket:{},socketEvent:t.payload.event});case y:case C:return Object(k.a)({},e,{connected:!1,connecting:!0,socket:{},socketEvent:t.payload.event});default:return Object(k.a)({},e)}}}),Q=(Object(h.createLogger)(),function(e,t){return{type:e,payload:{event:t}}}),M=function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},B=function(e){return 1===e.length?"none":e.length>1?e[e.length-1]>e[e.length-2]?"green":"red":void 0},D=n(10),N=n(11),R=Object(D.withStyles)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}})(N.f);var G=Object(D.withStyles)(function(e){return{root:{width:"95%",marginTop:3*e.spacing.unit,marginLeft:35,marginBottom:20,overflowX:"hidden"},table:{minWidth:700,margin:0},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}})(function(e){var t=e.data,n=e.connected,o=e.connecting,a=e.classes,r=e.socketEvent,i=Object.values(t).sort(function(e,t){return e.name.localeCompare(t.name)}).map(function(e,t){return{id:t,name:e.name,price:e.price[e.price.length-1],priceArr:e.price,prev_price:e.price.length>1?e.price[e.price.length-2]:"--",updatedAt:M(e.updatedAt)}});return!n&&o?c.a.createElement("div",{style:{textAlign:"center",marginTop:"10%"}},"close"===r.type?c.a.createElement("p",{style:{color:"red"}},"Socket connection Interrupted. Reconnecting..."):null,c.a.createElement("img",{alt:"...loading",src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="})):c.a.createElement(N.c,{className:a.root},c.a.createElement(N.d,{className:a.table},c.a.createElement(N.g,null,c.a.createElement(N.h,null,c.a.createElement(R,null,"Stocks"),c.a.createElement(R,{align:"center"},"Price"),c.a.createElement(R,{align:"center"},"Previous Price"),c.a.createElement(R,{align:"center"},"Last Updated At"))),c.a.createElement(N.e,null,i.map(function(e){return c.a.createElement(N.h,{hover:!0,className:a.row,key:e.id,onClick:function(e){alert("hi")}},c.a.createElement(R,{component:"th",scope:"row"},e.name),c.a.createElement(R,{align:"center",style:{backgroundColor:B(e.priceArr),padding:"5px",width:"216px"}},e.price),c.a.createElement(R,{align:"center"},e.prev_price),c.a.createElement(R,{align:"center"},e.updatedAt))}))))}),L=n(97),U=Object(D.withStyles)(function(e){return{grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},toolbar:{textAlign:"center",justifyContent:"space-between"}}})(function(e){var t=e.classes;return c.a.createElement(N.a,{position:"static",color:"primary"},c.a.createElement(N.i,{className:t.toolbar},c.a.createElement(N.b,{className:t.menuButton,color:"inherit","aria-label":"Open drawer"},c.a.createElement(L.a,null)),c.a.createElement(N.j,{variant:"h4",color:"inherit",className:t.grow,noWrap:!0},"Watch Stocks Live")))}),K=function(e){function t(){var e,n;Object(i.a)(this,t);for(var o=arguments.length,c=new Array(o),a=0;a<o;a++)c[a]=arguments[a];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).startSocketConnection=function(){n.socket=new WebSocket(d.BASE_URL),n.props.onSocketInitialization(n.socket),n.socket.onopen=function(e){n.props.onSocketOpen(e)},n.socket.onerror=function(e){n.props.onSocketError(e)},n.socket.onmessage=function(e){n.props.onSocketMessage(JSON.parse(e.data))},n.socket.onclose=function(e){n.props.onSocketClose(e),setTimeout(function(){return n.startSocketConnection()},5e3)}},n}return Object(u.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){this.startSocketConnection()}},{key:"componentWillUnmount",value:function(){this.socket.close()}},{key:"render",value:function(){return c.a.createElement(o.Fragment,null,c.a.createElement(U,null),c.a.createElement(G,Object.assign({},this.props.socket,this.props.stocks)))}}]),t}(o.Component),J=Object(p.b)(function(e,t){return{stocks:e.stocks,socket:e.socket}},function(e,t){return{onSocketMessage:function(t){return e(function(e){return{type:b,payload:{data:e}}}(t))},onSocketInitialization:function(t){return e(function(e){return{type:O,payload:{socket:e}}}(t))},onSocketOpen:function(t){return e(Q(v,t))},onSocketError:function(t){return e(Q(C,t))},onSocketClose:function(t){return e(Q(y,t))}}})(K),Y=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){return c.a.createElement(o.Fragment,null,c.a.createElement(J,null))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=n(34),W=n.n(P),H=n(21),T=function(e){var t=[E.a];return Object(g.d)(S,e,g.a.apply(void 0,t))}(),x=Object(D.createMuiTheme)({palette:{primary:{main:H.grey[500]},secondary:{main:H.green[500]},error:{main:H.red[500]}},typography:{useNextVariants:!0},spacing:{unit:"10"}});r.a.render(c.a.createElement(p.a,{store:T},c.a.createElement(D.MuiThemeProvider,{theme:x},c.a.createElement(W.a,null),c.a.createElement(Y,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5408,2,1]]]);
//# sourceMappingURL=main.4b6ef969.chunk.js.map