(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5408:function(e,t,n){e.exports=n(5526)},5413:function(e,t,n){},5526:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(27),r=n.n(c),i=(n(5413),n(35)),A=n(36),l=n(40),s=n(37),u=n(41),p=n(39),m={development:{BASE_URL:"ws://stocks.mnet.website"}},d=m[Object({NODE_ENV:"production",PUBLIC_URL:"/live-stock-watch"}).REACT_APP_ENV]||m.development,g=n(18),h=n(95),E=n(96),k=n(12),f=n(55),w=n(98),b="UPDATE_STOCKS",O="ON_INITIALIZATION",v="ON_OPEN",j="ON_CLOSE",C="ON_ERROR",y={data:{}},I={socketEvent:{},connecting:!1,connected:!1},Q=Object(g.c)({stocks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:var n={};return t.payload.data.forEach(function(t){var a=Object(w.a)(t,2),o=a[0],c=a[1];n[o]?n[o].price=[].concat(Object(f.a)(n[o].price),[c]):n[o]={name:o,price:e.data[o]?[].concat(Object(f.a)(e.data[o].price),[c]):[c],updatedAt:Date.now()}}),Object(k.a)({},e,{data:Object(k.a)({},e.data,n)});default:return Object(k.a)({},e)}},socket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(k.a)({},e,{connecting:!0,connected:!1,socket:t.payload.socket});case v:return Object(k.a)({},e,{connecting:!1,connected:!0,socketEvent:t.payload.event});case j:case C:return Object(k.a)({},e,{socketEvent:t.payload.event});default:return Object(k.a)({},e)}}}),S=(Object(h.createLogger)(),function(e,t){return{type:e,payload:{event:t}}}),M=function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},B=function(e){return 1===e.length?"none":e.length>1?e[e.length-1]>e[e.length-2]?"green":"red":void 0},D=n(10),N=n(11),R=Object(D.withStyles)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}})(N.f);var G=Object(D.withStyles)(function(e){return{root:{width:"95%",marginTop:3*e.spacing.unit,marginLeft:35,marginBottom:20,overflowX:"hidden"},table:{minWidth:700,margin:0},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}})(function(e){var t=e.data,n=e.connected,a=e.connecting,c=e.classes,r=Object.values(t).sort(function(e,t){return e.name.localeCompare(t.name)}).map(function(e,t){return{id:t,name:e.name,price:e.price[e.price.length-1],priceArr:e.price,prev_price:e.price.length>1?e.price[e.price.length-2]:"--",updatedAt:M(e.updatedAt)}});return!n&&a?o.a.createElement("div",{style:{textAlign:"center",marginTop:"10%"}},o.a.createElement("img",{alt:"...loading",src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="})):o.a.createElement(N.c,{className:c.root},o.a.createElement(N.d,{className:c.table},o.a.createElement(N.g,null,o.a.createElement(N.h,null,o.a.createElement(R,null,"Stocks"),o.a.createElement(R,{align:"center"},"Price"),o.a.createElement(R,{align:"center"},"Previous Price"),o.a.createElement(R,{align:"center"},"Last Updated At"))),o.a.createElement(N.e,null,r.map(function(e){return o.a.createElement(N.h,{hover:!0,className:c.row,key:e.id,onClick:function(e){alert("hi")}},o.a.createElement(R,{component:"th",scope:"row"},e.name),o.a.createElement(R,{align:"center",style:{backgroundColor:B(e.priceArr),padding:"5px",width:"216px"}},e.price),o.a.createElement(R,{align:"center"},e.prev_price),o.a.createElement(R,{align:"center"},e.updatedAt))}))))}),L=n(97),U=Object(D.withStyles)(function(e){return{grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},toolbar:{textAlign:"center",justifyContent:"space-between"}}})(function(e){var t=e.classes;return o.a.createElement(N.a,{position:"static",color:"primary"},o.a.createElement(N.i,{className:t.toolbar},o.a.createElement(N.b,{className:t.menuButton,color:"inherit","aria-label":"Open drawer"},o.a.createElement(L.a,null)),o.a.createElement(N.j,{variant:"h4",color:"inherit",className:t.grow,noWrap:!0},"Watch Stocks Live")))}),P=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.socket=new WebSocket(d.BASE_URL),this.props.onSocketInitialization(this.socket),this.socket.onopen=function(t){e.props.onSocketOpen(t)},this.socket.onerror=function(t){e.props.onSocketError(t)},this.socket.onmessage=function(t){e.props.onSocketMessage(JSON.parse(t.data))},this.socket.onclose=function(t){e.props.onSocketClose(t)}}},{key:"componentWillUnmount",value:function(){this.socket.close()}},{key:"render",value:function(){return o.a.createElement(a.Fragment,null,o.a.createElement(U,null),o.a.createElement(G,Object.assign({},this.props.socket,this.props.stocks)))}}]),t}(a.Component),K=Object(p.b)(function(e,t){return{stocks:e.stocks,socket:e.socket}},function(e,t){return{onSocketMessage:function(t){return e(function(e){return{type:b,payload:{data:e}}}(t))},onSocketInitialization:function(t){return e(function(e){return{type:O,payload:{socket:e}}}(t))},onSocketOpen:function(t){return e(S(v,t))},onSocketError:function(t){return e(S(C,t))},onSocketClose:function(t){return e(S(j,t))}}})(P),J=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){return o.a.createElement(a.Fragment,null,o.a.createElement(K,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=n(34),W=n.n(Y),_=n(21),H=function(e){var t=[E.a];return Object({NODE_ENV:"production",PUBLIC_URL:"/live-stock-watch"}).REACT_APP_ENV,Object(g.d)(Q,e,g.a.apply(void 0,t))}(),T=Object(D.createMuiTheme)({palette:{primary:{main:_.grey[500]},secondary:{main:_.green[500]},error:{main:_.red[500]}},typography:{useNextVariants:!0},spacing:{unit:"10"}});r.a.render(o.a.createElement(p.a,{store:H},o.a.createElement(D.MuiThemeProvider,{theme:T},o.a.createElement(W.a,null),o.a.createElement(J,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5408,2,1]]]);
//# sourceMappingURL=main.0750ce8a.chunk.js.map